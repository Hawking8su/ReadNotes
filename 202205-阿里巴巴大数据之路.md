# 大数据之路--阿里巴巴大数据实践
版本日期：20220513

相关书籍：
- 《数据库系统概念》
- 《The Data Warehouse Toolkit- The Complete Guide to Dimensional Modeling》
- 

## 8 大数据领域建模
数据模型就是数据组织和存储方法，它强调从业务、数据存取和使用角度合理存储数据。

Linus Torvalds 什么才是优秀程序员：烂程序员关心的是代码，好程序员关心的是数据结构和他们之间的关系。

有了适合业务和基础数据存储环境的模型，大数据就能带来以下好处：
- 性能：快速查询所需的数据
- 成本：减少不必要的数据冗余，实现计算结果复用，节省计算资源。
- 效率：改善用户使用体验，提高使用数据的效率
- 质量：改善数据统计口径的不一致性，减少数据计算错误的可能性。

OLTP和OLAP系统的区别：
- OLTP系统：面向的主要数据操作是随机读写，在事务处理中解决数据的冗余和一致性问题
- OLAP系统：面向的主要数据操作是批量读写，关注数据的整合以及在一次复杂查询和处理中的性能。

数据仓库建模方法论：
1. ER模型：
	1. 数据仓库之父Bill Inmon提出
	2. 数据仓库中的3NF 与OLTP系统中的3NF的区别在于，它是站在企业角度面向主题的抽象，而不是针对某个具体业务流程的实体对象关系的抽象。
	3. 出发点：整合数据
	4. 案例：Teradata公司基于金融业务发布的FS-LDM 
	5. 特点：不适合快速发展，不成熟的业务

 2. 维度模型：
	 1. 数据仓库领域大师Ralph Kimball大师倡导
	 2. 出发点：分析决策的需求
	 3. 典型案例：星型模型，以及在特殊场景下使用的雪花模型
	 4. 设计步骤：
		 1. 选择需要进行分析决策的业务过程
		 2. 选择粒度。 粒度可以是某一个id，也可以是维度的一个组合。
		 3. 识别维表。
		 4. 选择事实。确定分析需要衡量的指标。一般是金额、流量等。

3. Data Vault模型
	1. ER模型的衍生，出发点也是为了实现数据的整合
	2. 强调建立一个可审计的基础数据层，也就是强调数据的历史性、可追溯性和原子性。
	3. 组成部分： Hub 骨架， Link 韧带， Satellite 血肉
	4. 比ER模型更容易设计和产出

4. Anchor模型
	1. 基于Data Vault模型做了进一步规范化处理，设计的初衷是建立一个高度可扩展的模型，核心思想是所有的扩展只是添加而不是修改，因此将模型规范到6NF，基本变成了k-v结构化模型。

阿里巴巴最终选择了以Kimball的维度建模为核心理念的模型方法论，构建了公共层模型数据架构体系：
- 数据公共层建设的目的是着力解决数据存储和计算的共享问题。
- OneData：数据公共层建设的指导方法，一套统一化的集团数据整合及管理的方法体系，包括一致的指标定义体系，模型设计方法以及配套工具。


