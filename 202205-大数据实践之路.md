# 大数据实践之路读书笔记

**书籍： 林泽丰 等. 大数据实践之路：数据中台+数据分析+产品应用 (Chinese Edition) -- Kindle**

相关书籍：
1. 《数据产品经理修炼手册：从零基础到大数据产品实践》
2. 《金字塔原理》 麦肯锡

## 数据质量

SLA: Service-Level-Agreement, 服务等级协议，是系统服务提供者对客户的一个服务承诺。

有些企业采用“业务先发展，数据后治理”的思路，导致后期做数据治理的成本极高，甚至到了数据质量影响业务发展。

数据质量的重要性：产品千万条，数据第一条，建设不规范，企业两行泪

数据获取效率的问题 -- 数仓工程师的核心价值
研发工程师和数据分析师都觉得自己像个工具人，觉得自己没有成长，甚至产生了离职的想法。这种状态是不可持续的，数据部门必须想出一个解决方案。

所谓数据中台产品化，是指通过自助数据分析平台来提高数据的获取效率，让业务方自己完成数据的获取，而不必再耗费研发资源。

电商行业，最核心的问题是提升GMV（Gross Merchandise Volume，商品交易总额），而GMV = 访问用户数 * 转化率 * 客单价

在用户获取环节，我可以实现精准营销，而精准营销的基础是用户画像。因此，我们首先要建立一套丰富的用户画像标签体系，并且能够基于用户画像进行精准营销，实现访问用户数量的增长。


## 数据中台
建设数据中台的主要目的是解决企业在发展的过程中，由于数据的激增与业务的扩大而出现的统计口径不一致、重复开发、指标开发需求响应慢、数据质量低、数据成本高等问题。


## 数据指标
原子指标与派生指标：
- 原子指标：事实逻辑表中某个字段的统计值（sum, count, max, min, avg)，如下单用户数、下单金额等。
- 派生指标：基于原子指标，进行维度组合后产生的指标，如近1天商城下单用户数等。
- 原子指标无业务意义，它只是预定的代码片段。我们在业务中用到的指标基本都是派生指标。
- 派生指标 = 统计周期(time) + 聚合粒度(group by) + 限量维度（where) + 原子指标

## 数据资产
数据资产中心主要针对两个方面：质量和成本

## 数据服务
数据中心通过配置化的方式，将不同数据源的表通过映射模型生成API，与API调用者形成隔离，既保证了数据的安全，又可以以标准化的方式高效地进行数据的交付。

## 数据分析
业务越全面、越深入地被线上化，反过来数据对业务的赋能就越大

不同岗位主要的职责边界：
1. 业务产品经理：负责协调研发、测试、设计等部门，从实际业务需求出发，上线产品。
2. 数据开发工程师：根据数据产品经理的需求，按模型、按主题等加工业务数据。
3. 数据分析师：建立系统的分析框架，评估业务状态，定位业务问题，指导业务的发展。
4. 数据产品经理：负责协调数据开发工程师将业务数据模块化和体系化，同时将业务分析框架产品化，提升数据赋能的效率。

单纯看这些数据是没有意义的，我们要用心思考数据背后鲜活的业务。这个过程就是：从数据到信息，再到决策（知识）。
数据赋能业务经历的4个环节：数据表现、业务原因、业务策略和作用方式

业务策略闭环：
1. 逻辑闭环：数据分析的过程，在逻辑上要实现闭环，论据要能够支撑结论。
2. 业务闭环：业务策略在业务上的落地执行要实现闭环，不断地被调整和迭代。

![[Pasted image 20220508232128.png]]

数据分析的流程：
- step1: 明确分析目的
- step2: 明确分析思路
- step3: 获取数据
- step4: 处理与分析数据
- step5: 撰写分析报告

拆解业务要遵循MECE（Mutually Exclusive Collectively Exhaustive)原则： 完全穷尽和相互独立

处理与分析数据的工具没有高级与不高级之分，只要用得熟练，能够高效的解决问题即可。分析的思路和方法才是相对比较核心的。

推动策略落地，监控--反馈--迭代，直到策略正向地促进业务发展。

一般来说，数据分析会有3种场景：
1. 预测性分析：基于现有的数据，结合实际情况，预测业务未来的发展。
2. 描述性分析：有逻辑、成体系的拆解业务，用合理的指标整体评估业务的状态。 -- 通常沉淀在数据产品上的程度最高
3. 诊断性分析：针对业务的异常波动，分析背后的原因，并提出解决策略。

数据分析师的核心能力主要分为两个方面：专业能力和影响能力。
- 专业基本功：
	- 数据获取：数仓基础知识+SQL
	- 数据处理：Excel + Python/R
	- 数据分析：数据思维 + 分析思维 + 统计学 + 定量分析方法
	- 结论呈现：PPT/Tableau
- 理解业务：
	- 参与业务
	- 调研/访谈一线业务人员
	- 多与业务部门打交道

数据分析师千万不要有唯数据论的思想，以为所有问题都能从数据中找到答案，而应该围绕着业务转，数据只是辅助数据分析师更好地理解业务的工具，它和访谈调研、深度参与业务没有本质区别。

不要从数据出发，而是从业务出发，数据只是辅助工具。

工作象限图
![[Pasted image 20220508233820.png]]

工作对企业来说要创造价值，对个人来说要满足自己的诉求。
想要有好的工作节奏，我们就要想清楚当下自己的核心诉求是什么，要学会不断地根据客观环境调整自己的状态，让自己的工作与核心诉求保持一致，最大地激发自己的热情和创造力，要经常反观自己是否还位于第一象限。

数据分析师如何避免成为取数“工具人”？
- 主观上：
	- 态度要积极
	- 专业技能要过关：业务理解深度、分析能力、数据获取与处理能力、统计学基础知识。
- 客观上：
	- 和业务方有良好的合作关系，让业务方明白你的专业价值。

## 数据分析实操
预测性分析
- 目的：前置预估事物未来发展的可能性，指导当下的决策。
- 案例问题：产品部门、运营部门想让我们预估下今年双十一当天的GMV能达到多少？

描述性分析
- 目的：用体系化的框架、合理的指标去评估业务状态，清楚地判断业务现状及定位业务波动的数据原因。
- 一般可以沉淀在数据产品上，周期性更新
- 常用的分析方法：漏斗分析、对比分析、分组分析
![[Pasted image 20220508235322.png]]

诊断性分析
- 目的：定位业务运营过程转中数据异动的原因
- 一般流程：发现问题 -- 定位问题 -- 拆解问题 -- 寻找原因 -- 提出解决方案 -- 落地执行 -- 反馈迭代，直到业务问题被解决。
- 常用来判断指标波动是否异常的方法有：箱线图法、六西格玛原则等。这些方法的原理是一样的，就是界定正常波动的范围， 再确定离群点。
- 拆解问题：任何一个问题的拆解维度有很多种，取决于分析师分析问题的维度，要注意往后续可运营的方向上拆解。
- 寻找原因：正确的路径应该是根据业务理解，提出假设，数据分析的目的是验证假设是否成立。

数据分析报告：
- 是数据分析师对外输出的产品
- 一份好的数据分析报告要满足以下3个要求：
	1. 面向需求方
	2. 结论简明扼要
	3. 分析过程严谨、全面

## 数据应用

### BI系统
敏捷BI概念兴起，PowerBI、Tableau、QlikView等BI系统通过重视用户操作体验和企业低成本部署方面的优势，降低了BI系统的使用门槛。

BI系统的主要特性在于它的自助性，它让分析工作从过去的技术方主导变为业务方主导，让业务方更多地参与报表开发和使用及分析工作。

数仓存储着面向主题的、集成的、稳定的数据集合，这样的数据集合不是简单的数据表的拼接，而是将散落在不同数据源的维度统一成共有维度，将数据指标合成若干张事实逻辑表。

联机分析处理（OLAP)，改变了这样的数据浏览方式，将数据分离为维度（Dimension）和指标（Measure）。维度是指观察数据的角度，如销售时间、销售地点、产品等，指标则是具体考察的数量值，如销售数量和销售金额。

数据加工是BI系统分析中非常重要的过程，也是耗费时间和精力比较多的一个过程，因此企业在发展到一定规模，或者有一定的数据量级以后，应该有一个更系统化的解决方案，即数仓。一个企业级的BI系统中缺少不了数仓，在分析报表的开发中，BI系统应与现有数仓无缝集成。

可视化报表配置功能设计最核心的问题有两个：第一，支持哪些图表；第二，哪些可视化元素是可以配置的。配置图表时，也要区分了解不同图表的个性化配置项，不要遗漏关键配置元素。

OLAP常见的操作：钻取（下钻、上卷），切片，切块，旋转。

OLAP功能和BI报表功能的区别：
1. 二者的目的不同，OLAP是面向分析的，BI报表是面向数据展示的。
2. OLAP功能以分析为主，BI报表以可视化展示为主。

### 用户画像
以“千人千面”的方式进行精细化运营，精准转化用户，降低企业运营成本乃是大势所趋。

用户标签是通过对用户的基础信息、用户行为、业务信息等数据，进行数据建模所产生的的用户特征。其标签值具有高度概括、相互独立及可枚举、可穷尽的特点。

统一用户ID标识。企业有多种业务场景，数据来源渠道很多，如何将众多数据源串联起来是建设用户画像体系面临的第一个问题。要解决这个问题，就要打破“数据孤岛“，将不同业务线、不同类型的ID进行映射，识别出唯一身份标识。

用户标签建设人员配合流程
![[Pasted image 20220510002648.png]]


运用AARRR模型，梳理在拉新、促活、留存、裂变等阶段可能的策略和所需的标签。

分类多为基础标签（who）、行为标签（do)、偏好标签（what)、场景标签。
![[Pasted image 20220510003101.png]]

RFM标签：
- Recency 最近一次消费时间
- Frequency 消费频率
- Monetary 消费金额

代表产品：阿里达摩盘、腾讯广点通
- 腾讯的DMP(Data Management Platform) 定位为第三方的数据管理平台，主要面向广告主，对接精准广告投放。
- 阿里的达摩盘定位为商家营销平台。

精准营销的4R法则：通过合适的渠道（Right Channel），在合适的时间（Right Time），将合适的产品（Right Product）推送给合适的用户（Right Customer）

### 电商反作弊体系
广义电商黑产分3种：
1. 跟风用户
2. 羊毛党
3. 电商黑产（狭义）

反作弊的主要目标是提高”电商黑产“的作弊成本。

针对营销活动，我们要对其事前、事中、事后都制定相应的策略。
- 事前阶段：规则设计、有监督的机器学习 => 白名单/黑名单
- 事中阶段：无监督学习 + 孤立森林模型
- 事后阶段：规则建设=> 多维度打分

### 资讯个性化推荐

个性化推荐，按照每个用户的喜好，在合适的时间、合适的场景，把合适的内容，以合适的形式呈现给用户，满足用户的需求。这里涉及3个部分：用户、算法和策略、内容。

什么是召回？通俗的理解是，根据用户的一些条件，把符合这些条件的资讯从广阔的内容池中召唤出来，放到一个小的池子中。

空间向量模型：把每个用户表达成一个个标签特征，我们想象每个标签就是一个坐标轴，每个特征的分值就是这个特征在坐标轴上的长度，这样我们可以在一个多维坐标轴上，用一个向量来描述一个用户，代表不同用户的两个向量的夹角越小，就表示两个用户越相似。

策略的目标：
1. 对于新用户，我们要尽快发现他们的兴趣，把他们留下来，并提升点击率。
2. 对于老用户，我们要发掘他们更多的兴趣，提升其点击率，延长其平均阅读时长，降低其流失率。



## TODO:
1. 数据环节&岗位
参考链接：https://www.bilibili.com/video/BV1154y1X7m8?spm_id_from=333.999.0.0
![[Pasted image 20220510005848.png]]

2. 问题：如何保证数据质量，数据质量应该遵循的原则。